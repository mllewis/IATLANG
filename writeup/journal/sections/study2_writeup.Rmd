
# Study 2: Gender bias and grammar

The findings in Study 1 are consistent with the possibility that people's implicit biases are in part caused by input from language (language-as-causal) and that the linguistic biases simply reflect existing biases (language-as-reflection). In Study 2, we try to distinguish
between the two possibilities by examining whether linguistic biases are associated with grammatical gender, a structural aspect of language that is clearly not caused by people's gender biases. [Describe what grammatical gender is]. We predicted that grammatical gender would act to exaggerate the linguistic biases present in the language. To the extent that these are causally related to people's implicit biases, these languages may be providing their speakers with additional exposure to gender biases thereby increasing their speakers' implicit biases.

not talk about it as grammatical gender
look at psycholinguistic stuff - mcdonald


### Method

We coded each of the  languages in our sample (Study 1) for grammatical gender. We used a coarse binary coding scheme, categorizing a language as encoding
grammatical gender if it made any gender distinction on noun classes
(masculine, feminine, common or neuter), and as not encoding gender
grammatically otherwise. 


### Results and Discussion

```{r}
LANGKEY_PATH <- here("data/study0/processed/lang_name_to_wiki_iso.csv")
lang_key <- read_csv(LANGKEY_PATH)

EMPIRICAL_GRAMMAR_PATH <- here("data/study2/empirical_gender_by_lang.csv")
grammar_data <- read_csv(EMPIRICAL_GRAMMAR_PATH) %>%
  rename(language_name = language) %>%
  left_join(lang_key %>% mutate(language_name = tolower(language_name))) %>%
  rename(language_code = "wiki_language_code") %>%
  mutate(empirical_binary_grammatical_gender = ifelse(empirical_grammatical_gender_score > 0, "empirically_gendered", "empirically_not_gendered"))

LANG_IAT_PATH <- here("data/study1b/iat_es_lang.csv")
iat_lang_es <- read_csv(LANG_IAT_PATH)

BEHAVIORAL_IAT_PATH <- here("data/study0/processed/by_language_df.csv")
iat_behavioral_es <- read_csv(BEHAVIORAL_IAT_PATH) %>%
  rename(language_code = "wiki_language_code") %>%
  select(language_code, median_country_age, 
         prop_male,log_age, es_iat_sex_age_order_explicit_resid,
         es_iat_sex_age_order_implicit_resid, per_women_stem, n_participants)

THEORETICAL_GRAMMAR_PATH <- here("data/study2/theoretical_gender_by_lang.csv")
theoretical_gender <- read_csv(THEORETICAL_GRAMMAR_PATH)  %>%
  select(language_code, wikipedia_grammar_type) %>%
    mutate(wikipedia_grammar_type2 = ifelse(wikipedia_grammar_type %in%  c("none", "CN"),
                                          "No Gender", 
                                          "Gender")) 

all_es <- left_join(iat_behavioral_es, iat_lang_es, 
                    by = "language_code") %>%
  left_join(grammar_data) %>%
  left_join(theoretical_gender) 
```

```{r, eval = F}
# implicit
lm(es_iat_sex_age_order_implicit_resid ~ empirical_binary_grammatical_gender + wikipedia_grammar_type2 + median_country_age, 
       data = all_es) %>%
  summary()

# explicit
lm(es_iat_sex_age_order_explicit_resid ~ empirical_binary_grammatical_gender + wikipedia_grammar_type2 + median_country_age, 
       data = all_es) %>%
  summary()
```


```{r, fig.pos = "!t!", fig.height = 3.5, fig.cap = "Residualized behavioral IAT gender bias as a function of whether or not the language encodes grammatical gender. Each label code corresponds to a language. The  bold vertical line corresponds to the group median, and the box width indicates the first and third quartile."}

source(here("writeup/journal/helpers/geom_flat_violin.R"))

ci_df <- all_es %>%
  group_by(empirical_binary_grammatical_gender) %>%
  langcog::multi_boot_standard(col = "es_iat_sex_age_order_implicit_resid") %>%
  ungroup()%>%
    mutate(empirical_binary_grammatical_gender = fct_rev(empirical_binary_grammatical_gender),
         empirical_binary_grammatical_gender = fct_recode(empirical_binary_grammatical_gender, 
             "Gendered" = "empirically_gendered", 
             "Not Gendered" = "empirically_not_gendered"))

all_es %>%
  ungroup() %>%
  mutate(empirical_binary_grammatical_gender = fct_rev(empirical_binary_grammatical_gender),
         empirical_binary_grammatical_gender = fct_recode(empirical_binary_grammatical_gender, 
             "Gendered" = "empirically_gendered", 
             "Not Gendered" = "empirically_not_gendered")) %>%
  distinct(language_code, .keep_all = T) %>%
  filter(!is.na(empirical_binary_grammatical_gender)) %>%
  ggplot(aes(x = empirical_binary_grammatical_gender,  
             y = es_iat_sex_age_order_implicit_resid,
             color = empirical_binary_grammatical_gender,
             fill = empirical_binary_grammatical_gender)) +
  geom_pointrange(aes(y = mean, 
                      ymin = ci_lower,
                      ymax = ci_upper, 
                      x = empirical_binary_grammatical_gender), data = ci_df, size = 1) +
  #geom_boxplot(outlier.alpha = 0) +
  geom_flat_violin(alpha = .3, trim = F) +
  scale_color_manual(values = c("blue", "red", "blue", "red")) +
  scale_fill_manual(values = c("blue", "red", "blue", "red")) +
  geom_text(aes(label = language_code, as.numeric(as.factor(empirical_binary_grammatical_gender))-.05), 
color = "black", size = 4) +
  coord_flip() +
  theme_classic() +
  ggtitle("Behavioral Gender Bias and Grammar Type") +
  ylab("Residualized Behavioral IAT Gender Bias") +
  xlab("Grammar Type") +
  theme(legend.position = "none",
        text = element_text(size = 12),
        axis.text.y = element_text(angle = 90, hjust=0.5, size = 12))
```




 